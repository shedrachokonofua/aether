---
# OTEL Collector configuration
otel_collector_version: "0.139.0"
otel_collector_download_url: "https://github.com/open-telemetry/opentelemetry-collector-releases/releases/download/v{{ otel_collector_version }}/otelcol-contrib_{{ otel_collector_version }}_linux_amd64.tar.gz"
otel_collector_binary_path: "/usr/local/bin/otelcol-contrib"
otel_collector_config_path: "/etc/aether-monitoring-agent/otel-config.yml"
otel_collector_storage_path: "/var/lib/otelcol/storage"

# OTLP Exporter endpoint
otlp_endpoint: "https://otel.home.shdr.ch"

# Service configuration
monitoring_agent_config_dir: "/etc/aether-monitoring-agent"
monitoring_agent_service_user: "root"

# Host Metrics Configuration
host_metrics_collection_interval: "15s"
host_metrics_initial_delay: "1s"

# Podman Metrics Configuration (when Podman is installed)
podman_metrics_collection_interval: "15s"
podman_metrics_initial_delay: "1s"

# Docker Metrics Configuration (when Docker is installed)
docker_metrics_collection_interval: "15s"
docker_metrics_initial_delay: "1s"

# Journald units to monitor (can be overridden in inventory/group_vars)
monitored_systemd_units:
  - sshd
  - auditd
  - systemd-journald
  - systemd-logind
  - systemd-oomd
  - NetworkManager
  - aether-otel-collector

# File log patterns
file_log_patterns:
  - "/var/log/*.log"
  - "/var/lib/docker/containers/*/*-json.log"
  - "/run/containers/storage/overlay-containers/*/userdata/ctr.log"

# Prometheus scrape configs (optional)
# Define Prometheus scrape configs to collect metrics from services
# Example:
# prometheus_scrape_configs:
#   - job_name: 'caddy'
#     scrape_interval: 30s
#     static_configs:
#       - targets: ['localhost:2019']
#   - job_name: 'node-exporter'
#     scrape_interval: 15s
#     static_configs:
#       - targets: ['localhost:9100']
prometheus_scrape_configs: []

# NVIDIA GPU Exporter configuration (auto-detected)
nvidia_gpu_exporter_version: "1.3.1"
nvidia_gpu_exporter_download_url: "https://github.com/utkuozdemir/nvidia_gpu_exporter/releases/download/v{{ nvidia_gpu_exporter_version }}/nvidia_gpu_exporter_{{ nvidia_gpu_exporter_version }}_linux_x86_64.tar.gz"
nvidia_gpu_exporter_binary_path: "/usr/local/bin/nvidia_gpu_exporter"
nvidia_gpu_exporter_port: 9835
nvidia_gpu_exporter_scrape_interval: "5s"
